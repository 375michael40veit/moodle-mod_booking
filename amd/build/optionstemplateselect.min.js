define(["jquery","core/ajax"],function(a,b){return{init:function(){a("#id_optiontemplateid").change(function(){""!=a("#id_optiontemplateid").val()&&b.call([{methodname:"mod_booking_optiontemplate",args:{id:a("#id_optiontemplateid").val()},done:function(b){var c=a.parseJSON(b.template);a("#id_text").val(c.text),a("#id_location").val(c.location),a("#id_institution").val(c.institution),a("#id_address").val(c.address),a("#id_limitanswers").prop("checked",0!=c.limitanswers),a("#id_maxanswers").val(c.maxanswers),a("#id_maxoverbooking").val(c.maxoverbooking),a("#id_restrictanswerperiod").prop("checked",0!=c.restrictanswerperiod),a("#id_startendtimeknown").prop("checked",0!=c.startendtimeknown),a("#id_addtocalendar").prop("checked",0!=c.addtocalendar);var d=c.duration;switch(!0){case d<60:a("#id_duration_number").val(d),a("#id_duration_timeunit").val(1);break;case d<3600:a("#id_duration_number").val(d/60),a("#id_duration_timeunit").val(60);break;case d<86400:a("#id_duration_number").val(d/3600),a("#id_duration_timeunit").val(3600);break;case d<604800:a("#id_duration_number").val(d/86400),a("#id_duration_timeunit").val(86400);break;default:a("#id_duration_number").val(d/604800),a("#id_duration_timeunit").val(604800)}a("#id_enrolmentstatus").prop("checked",0!=c.enrolmentstatus),a("#id_descriptioneditable").html(c.description),a("#id_pollurl").val(c.pollurl),a("#id_pollurlteachers").val(c.pollurlteachers),a("#id_howmanyusers").val(c.howmanyusers),a("#id_removeafterminutes").val(c.removeafterminutes),a("#id_notificationtexteditable").html(c.notificationtext),a("#id_disablebookingusers").val(c.disablebookingusers),a("#id_beforebookedtexteditable").html(c.beforebookedtext),a("#id_beforecompletedtexteditable").html(c.beforecompletedtext),a("#id_aftercompletedtexteditable").html(c.aftercompletedtext)}}],!0)})}}});